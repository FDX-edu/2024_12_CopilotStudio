# Exercise 4: Create your first topic

## 작업 1: 새 토픽을 수동으로 만들기

이 첫 번째 작업에서는 다음 단계에 따라 새 토픽을 수동으로 만듭니다.

1. Microsoft Copilot Studio의 왼쪽 메뉴에서 **토픽**을 선택합니다.

2. 화면 상단의 **토픽 추가** 드롭다운에서 빈 항목에서 옵션을 선택합니다.


![image](https://github.com/user-attachments/assets/dd41de6e-51db-4156-a2d8-0091ec0b2989)


3. 제목을 **제목 없음**(From blank)을 클릭하고 **Check Order Status**(주문 상태 확인)으로 이름을 변경하여 제목을 변경합니다.

4. 토픽 트리거 아래에서 **문구**룰 선택하고 **편집**을 선택합니다.

5. 다음 문구를 붙여넣고 **Enter**를 누르거나 텍스트 상자 옆에 있는 (+) **버튼**을 클릭하여 모두 한 번에 추가합니다.
   
   order status</br>   
   track my order</br>   
   where is my package</br>   
   check order status</br>   
   has my order shipped

   ```
   주문 상태

   내 주문 추적
   
   내 패키지는 어디에 있나요
   
   주문 상태 확인
   
   내 주문이 발송되었나요
   ```

7. 오른쪽 상단 모서리에 있는 **세부 정보** 버튼을 선택하여 토픽 세부 정보 창을 엽니다.
여기서 구성된 토픽 이름(제작자가 보는 것)과 다른 표시 이름(최종 사용자가 볼 수 있는 것)을 설정할 수 있습니다.

![image](https://github.com/user-attachments/assets/0d790ab7-10e5-4da8-9060-c96370bdaaa9)전문가 팁:

• 표시 이름은 모호성을 해소하는 데 사용됩니다(예: 여러 주제가 사용자 발화와 일치하는 경우, 사용자는 "이것을 의미합니까..." 질문에서 두 개 또는 세 개의 인식된 주제 중에서 선택하라는 메시지가 표시됩니다).

• 주제 트리거를 위해 기본 제공 자연어 이해 대신 생성 AI 오케스트레이션을 사용하는 경우, 표시 이름은 모델 표시 이름이라고 하며 의도 감지 프로세스의 일부로 모델 설명과 함께 사용됩니다.

• 세부 정보 창은 주제 입력 및 출력 변수를 구성할 수 있는 곳이기도 합니다. 이는 주제가 다른 주제에서 호출되거나 생성 AI 오케스트레이션이 켜져 있을 때 유용하며, 실제로 대규모 언어 모델을 사용하여 필요한 변수를 슬롯에 채우고 사용자에게 누락된 입력을 자동으로 묻습니다.

7.	저장

## 작업 2: 토픽 사용자 인터페이스 검토

이제 트리거 문구를 제외한 콘텐츠 없이 첫 번째 토픽을 만들었으므로 작성 사용자 인터페이스(UI)를 탐색하여 더 익숙해질 수 있습니다.

![image](https://github.com/user-attachments/assets/1015a866-0720-49b3-869b-8862d5bc311b)


1. **주제 제목** – 현재 편집 중인 주제의 이름으로 주제 페이지에 표시됩니다.

2. **생산성 막대** – 노드(메시지, 질문 등)에 대한 잘라내기, 복사, 붙여넣기 및 삭제와 같은 도구에 액세스할 수 있습니다.

3. **Copilot, 댓글, 변수, 주제 검사기, 세부 정보, 분석, 코드 편집기 열기 및 기본값으로 재설정 버튼** – 이 영역에는 다음이 포함됩니다. Copilot은 자연어로 된 설명을 사용하여 주제를 만들고 업데이트하는 데 도움이 됩니다. 댓글은 작성자가 노드에 협업하고 댓글을 남길 수 있는 곳입니다. 변수 메뉴는 주제 수준 및 전역 변수 목록과 테스트 탭에서 해당 런타임 값을 확인합니다. 주제 검사기는 작성 캔버스에서 언제든지 실행하여 플랫폼에서 감지할 수 있는 오류가 주제에 발생했는지 확인할 수 있습니다(해결되지 않으면 봇을 게시할 수 없습니다). 세부 정보 버튼은 주제 속성에 액세스합니다.

4. **… 자세히** – 분석은 주제 사용 메트릭을 보여줍니다. 오픈 코드 편집기는 사용자 인터페이스를 노코드/로우코드 환경에서 개발자가 직접 편집할 수 있는 토픽의 기본 YAML 구성에 대한 프로코드 보기로 전환합니다. 일부 시스템 토픽의 경우 기본값으로 재설정 옵션을 사용하여 토픽 콘텐츠를 원래 상태로 되돌릴 수 있습니다.

5. **저장** 버튼은 토픽 변경 사항을 저장합니다.

6. **토픽 세부 정보 메뉴**를 사용하면 제작자가 토픽 이름, 표시 이름, 설명 및 상태(활성/비활성)를 업데이트할 수 있습니다. 생성 AI 오케스트레이션이 활성화되면 표시 이름이 모델 표시 이름으로 바뀌고 모델 설명을 사용할 수 있습니다. 또한 입력 및 출력을 구성할 수 있습니다. 생성 AI를 오케스트레이터로 사용할 때 입력은 자동으로 슬롯에 채워질 수 있습니다.

7. **트리거 전환기** 버튼은 모든 토픽의 트리거 노드에 있습니다. 기본적으로 새 토픽에는 문구 트리거(생성 AI 오케스트레이션이 활성화된 경우 조종사가 트리거)가 있지만, 메시지 수신, 이벤트 수신, 활동 수신, 대화 업데이트 수신, 호출 수신, 리디렉션 및 비활성으로 전환할 수 있습니다.
   
   참조 : https://learn.microsoft.com/ko-kr/microsoft-copilot-studio/authoring-triggers
  

9. **새 노드 추가** - 새 노드 추가 버튼을 사용하면 작성자가 메시지 보내기, 질문하기, 조건 추가 등과 같은 활동을 토픽에 추가하여 대화 논리를 구축할 수 있습니다.

10. **작성 캔버스 컨트롤** - 이러한 컨트롤을 사용하여 광범위한 토픽의 경우 커질 수 있는 작성 캔버스를 탐색할 수 있습니다. 포함된 컨트롤은 캔버스 맵, 확대/축소, 손, 선택 및 재설정입니다.


## 작업 3: 토픽에 콘텐츠 추가

이 연습에서는 토픽에 많은 양의 콘텐츠를 추가하는 방법을 다루지 않습니다. 대신 Microsoft Copilot Studio에서 토픽을 만들고, 테스트하고, 게시하는 전반적인 프로세스에 익숙해질 수 있도록 단일 질문 노드, 메시지 노드, 주제 리디렉션을 추가하는 단계를 제공합니다. 이 모듈의 게시 데모 연습에서는 Microsoft Copilot Studio의 작성 기능에 대한 심층적인 검토를 다룹니다.

이 연습의 다음 섹션에서는 Microsoft Copilot Studio의 핵심 구성 요소를 이해하고 주제를 만드는 데 필요한 기본 지식을 다룹니다.

기본 지식: 질문 노드
에이전트 작성자는 사용자의 응답을 기대하고 해당 정보를 기반으로 무언가를 하려는 경우 질문 노드를 사용해야 합니다. 사용자 응답은 변수에 저장되고 질문 노드는 엔터티와 슬롯 채우기 기능도 사용할 수 있습니다. 이 두 개념은 모두 이 연습에서 나중에 다룹니다.

Question 노드는 메시지 노드가 하는 많은 기능을 사용합니다. 예를 들어, 리치 텍스트, 음성 작성, 리치 텍스트 응답 유형(예: 이미지, 비디오, 적응형 카드)이 있습니다.

1. 이전 작업에서 연 토픽에서 캔버스의 기존 노드 아래에 있는 + 버튼을 선택한 다음 **질문하기**(Ask a question)을 선택하여 새 Question 노드를 추가합니다.

2. 필드에
```
What would you like to do with your order?
```
```
주문한 내용을 어떻게 처리하시겠습니까?
```

를 입력한 다음 **식별**(Identify) 값을 **사용자의 전체 응답**(User's entire response)으로 설정합니다. 이 노드는 사용자가 하려는 일에 대한 토픽이 트리거된 후 질문을 합니다. Publish 데모 연습은 이 작업을 엔터티 사용 및 슬롯 채우기로 확장합니다.

3. 기본적으로 사용자 응답은 **Var1**이라는 변수로 저장됩니다. 변수 이름을 클릭하여 이름을 변경할 수 있습니다(예: OrderRequest).


![image](https://github.com/user-attachments/assets/0d53b99a-31f7-42fb-886a-7cf157a38d42)전문가 팁:

• 논리에서 참조할 때 명확하게 식별할 수 있도록 항상 변수에 적절한 이름을 지정하는 것이 가장 좋으며, 테스트를 수행하고 런타임에 변수 값을 확인할 때 명확성을 더합니다.

• 고객과 파트너는 일관성과 유지 관리 용이성을 위해 변수에 대한 명명 규칙을 정의하고 따를 수 있습니다.

![image](https://github.com/user-attachments/assets/61945d9a-23cb-4869-a64a-3e1ad22156e2)

![image](https://github.com/user-attachments/assets/0d53b99a-31f7-42fb-886a-7cf157a38d42)전문가 팁:

• 질문 동작은 …, 속성, 질문 동작을 클릭하여 사용자 지정할 수 있습니다. 여기에서 질문을 건너뛸 수 있는지, 사용자에게 다시 묻는 횟수, 검증 규칙, 사용자가 예상대로 대답하지 않을 경우 어떻게 해야 하는지 정의할 수 있습니다.

• 또한 사용자가 질문에 대답하지 않고도 다른 주제로 건너뛸 수 있는지 정의할 수 있으며, 중단 시 허용되는 주제 목록을 정의할 수 있습니다.

• 사용자가 처음에 기대하는 바를 이해하지 못하는 경우 재시도 프롬프트를 정의하는 것이 가장 좋습니다. 그런 다음 질문에 올바르게 대답하도록 도울 때 사용자에게 훨씬 더 명확하게 말해도 됩니다.


기본 지식: 메시지 노드</br>
메시지 노드를 사용하여 사용자에게 메시지를 표시할 수 있습니다. 이 메시지는 대화 주제에 따라 간단할 수 있습니다. 질문 노드와 정반대로 메시지 노드는 사용자의 답변을 기대하거나 저장하지 않습니다. 메시지 노드에는 텍스트로 표시할 수 있는 서식 있는 텍스트 옵션이나 카드, 이미지, 비디오, 적응형 카드와 같은 고급 옵션도 있습니다.

![image](https://github.com/user-attachments/assets/0d53b99a-31f7-42fb-886a-7cf157a38d42)전문가 팁:</br>
• 에이전트가 더 자연스럽고 인간적으로 들리도록 하려면 메시지 변형을 구성하여 에이전트가 구성된 메시지 중 하나를 보내 동일한 메시지를 엄격하게 반복하지 않도록 할 수 있습니다.

사용자에게 표시되는 텍스트 본문에서 메시지 노드 내의 변수를 사용할 수도 있습니다. 이는 해당 노드 내에 저장된 데이터에 따라 동적으로 변경됩니다. 이 기능을 사용하면 "안녕하세요 {System.User.FirstName}, 잠시만 기다려 주세요"와 같이 메시지를 더 개인적으로 만들 수 있습니다. 변수는 자동화 또는 계산을 수행하기 위해 데이터를 저장할 수도 있습니다. 이후 연습에서는 변수에 대해 더 자세히 다룹니다. 마지막으로 Power Fx 수식을 추가하여 더욱 동적인 콘텐츠를 만들 수도 있습니다.

1. 다른 노드를 추가하려면 Question 노드 아래에 있는 + 버튼을 선택합니다. 그런 다음 "**메시지 보내기**(Send a message)"를 선택합니다. 고객의 질문을 인정하는 메시지를 입력합니다(예: Thank you for your question!, 질문해 주셔서 감사합니다!).

![image](https://github.com/user-attachments/assets/85205e54-ba19-43be-b42d-889b0723b3f4)


2. 이 데모 시나리오에서 고객과 대화를 종료합니다. 작성 캔버스 내의 메시지 노드 아래에 있는 + 버튼을 선택합니다. **토픽 관리** 옵션 위에 마우스를 올려놓고 **다른 토픽으로 이동**을 선택한 다음 **대화 종료**(End of conversation)를 선택합니다. 그러면 채팅 세션을 종료하는 토픽으로 리디렉션되어 질문에 답변했는지 묻고 고객 만족도 설문 조사를 작성하도록 제안합니다.

![image](https://github.com/user-attachments/assets/99f47d4e-36cd-4763-8c4b-275681208d60)


![image](https://github.com/user-attachments/assets/0d53b99a-31f7-42fb-886a-7cf157a38d42)전문가 팁:</br>
대화 종료 주제로 개별 대화 경로를 종료하는 것이 가장 좋습니다. 이렇게 하면 최종 사용자가 자신의 질문이 해결되었는지 확인할 수 있습니다. 사용자가 확인하면 고객 만족도(CSAT) 설문 조사가 표시됩니다. 해결률과 CSAT 점수는 모두 에이전트 분석에 표시됩니다.

3. 그런 다음 화면 오른쪽 상단에서 **저장** 버튼을 선택합니다.

4. **테스트** 창을 사용하여 봇이 예상대로 작동하는지 확인합니다.
새 테스트를 수행하기 전에 **새로 고침**을 수행해야 합니다.

```
I'd like to check the status of my order please
```

```
주문 상태를 확인하고 싶습니다.
```

![image](https://github.com/user-attachments/assets/0d53b99a-31f7-42fb-886a-7cf157a38d42)전문가 팁:</br> 트리거 문구는 사용자가 말할 수 있는 모든 발언과 정확히 일치할 필요는 없습니다.


## 작업 4: Copilot을 사용하여 토픽 만들기

Microsoft Copilot Studio에서 토픽을 만드는 것이 이전보다 훨씬 간편해졌습니다. 이제 Microsoft Copilot Studio에서 자연어로 토픽에서 원하는 작업을 설명하여 토픽을 만들 수 있습니다. Copilot에서 설명에서 만들기 기능을 사용하면 이 단원의 첫 번째 작업에서 경험했던 수동 단계를 줄여 토픽을 자동으로 만들 수 있습니다. 이 작업에서는 Copilot을 사용하여 토픽을 만드는 것이 얼마나 간단하고 빠른지 알아봅니다.

1. 화면 왼쪽의 탐색 창에서 토픽을 선택합니다.

2. 만들기 드롭다운을 선택하고 토픽을 선택한 다음 **Copilot에서 설명에서 만들기**(Create from description with Copilot)를 선택합니다. 토픽 이름을 지정하고 토픽 만들기... 공간에 설명을 입력하라는 새 창이 나타납니다.

![image](https://github.com/user-attachments/assets/8e250b6b-32f8-4202-a68c-63ae9d780ba0)

3. 토픽 이름 필드에
Support Ticket(지원 티켓)
을 입력합니다.

4. 토픽 만들기 공간에 토픽이 무엇을 해야 하는지에 대한 설명을 입력합니다.

```
Create a support ticket, including a title, severity (high / medium / low), description and an email address to send update notifications to. Define variables following this naming pattern: Topic.TicketTitle.
```
```
제목, 심각도(높음/중간/낮음), 설명 및 업데이트 알림을 보낼 이메일 주소를 포함한 지원 티켓을 만듭니다. Topic.TicketTitle이라는 명명 패턴에 따라 변수를 정의합니다.
```

5.	Select Create.

![image](https://github.com/user-attachments/assets/c01ff317-ae7b-45e4-b9e1-677ec9b38b76)


Copilot은 트리거 문구, 질문 노드, 엔터티 선택, 변수 명명 및 메시지 노드 확인을 포함하여 토픽을 만듭니다.

6. 작성 캔버스의 위쪽에 있는 Copilot 버튼을 선택합니다(Copilot으로 편집 패널이 아직 열려 있지 않은 경우). **Copilot으로 편집 패널**에서 **무엇을 하시겠습니까?** 필드에서 추가 지침을 추가한 다음 업데이트를 선택합니다.

```
Ask a question to find out the preferred contact method, choosing from email, phone or SMS.
```
```
연락 방법으로 이메일, 전화, SMS 중 어떤 것을 선호하시나요?
```

![image](https://github.com/user-attachments/assets/ae9d3891-2284-495f-896a-7b5321ef49ac)


Copilot은 고객에게 연락 방법을 묻는 질문 노드를 자동으로 추가하고 해당 선택 사항을 변수에 저장합니다.

![image](https://github.com/user-attachments/assets/ccbd5cfb-b52b-4624-ae84-5a4ff3be55d4)

Note: you can skip this step if you run into the below error:

![image](https://github.com/user-attachments/assets/3cd90e62-217a-46cb-9c30-b84d3eee9727)


Microsoft Copilot Studio의 Copilot 기능은 작성 시간을 대폭 줄여 자연어를 사용하여 새 토픽을 만들고 토픽을 편집할 수 있습니다. 또한 Copilot으로 편집 패널은 어떤 업데이트가 만들어졌는지 보여주고 토픽에서 업데이트할 수 있는 내용에 대한 제안을 제공합니다.

7. 새 토픽을 저장합니다.

8. 테스트 창을 사용하여 봇이 예상대로 작동하는지 확인합니다.
새로 고침 아이콘을 사용하여 새 대화에서 시작하고 이전 대화를 재개하지 않는 것을 주저하지 마세요.

```
I have an issue with my laptop and need to open a support ticket
```
```
노트북에 문제가 있어 지원 요청을 하고 싶어요.
```



