# Question node behavior

이전 랩에서는 질문 노드의 기본 사항을 다루었고 엔티티와 슬롯 채우기를 사용하여 이 개념을 기반으로 구축했습니다. 질문 노드에는 사용자의 응답을 저장하는 것 외에도 설정할 수 있는 동작 옵션이 더 있습니다. 한 가지 옵션은 연결된 변수에 이미 값이 포함되어 있는 경우 질문을 건너뛸 수 있는 기능입니다. 이전 연습에서 에이전트가 주문을 확인하라는 요청을 받았을 때 질문을 건너뛰는 이 프로세스가 작동하는 것을 관찰했습니다. 엔티티와 슬롯 채우기를 사용하여 Microsoft Copilot Studio가 사용자가 질문한 문장에서 데이터를 검색한 다음 변수 내에 데이터를 저장할 수 있었기 때문에 질문을 건너뛴 것입니다. Microsoft Copilot Studio가 질문 노드에 도달한 후에는 이미 데이터가 포함되어 있었으므로 질문을 다시 질문할 필요가 없었습니다. 이 방법은 사용자 또는 고객이 Copilot과 대화할 때 동일한 질문에 여러 번 대답할 필요가 없기 때문에 더 효율적입니다.

1. **주문 상태 확인**(Check Order Status) 토픽에서 질문 노드를 선택합니다. 그런 다음, 다음 스크린샷에 표시된 대로 Question 노드의 오른쪽 상단 모서리에 있는 줄임표를 선택하여 메뉴를 확장한 다음 메뉴에서 속성을 선택합니다.


   ![image](https://github.com/user-attachments/assets/9284bd11-0c19-446f-91d4-6b32f5e28f2c)

3. 나타나는 Question 속성 패널에서 Question 동작을 선택합니다.

   ![image](https://github.com/user-attachments/assets/c7150772-3e3f-4808-b26f-f7c622a494a8)



Question 노드에는 사용자가 묻는 질문에 대한 응답을 더 잘 식별할 수 있도록 여러 가지 구성 가능한 옵션이 있습니다. 이 구성 요소는 대화형 애플리케이션을 개발할 때 중요합니다. 자연어 응답을 관리하는 AI의 유형에 관계없이 사용자는 예상치 못한 답변이나 식별할 수 없는 답변을 제공할 수 있기 때문입니다. 이러한 상황에서 Copilot의 행동을 처리할 수 있는 기능은 향상된 고객 경험을 제공하는 데 도움이 됩니다. 이 시나리오는 다른 사람에게 질문을 하고 질문을 이해하지 못할 때 실제로 발생합니다. 최상의 경험과 대화를 위해 원래 이해하지 못한 동일한 질문을 반복하는 것과는 다르게 표현하거나 다르게 행동하는 것이 중요합니다.

**질문 동작**(Question behavior) 속성 창에서 선택할 수 있는 다음 질문 동작 컨트롤이 있습니다.

• **건너뛰기 동작/질문 건너뛰기**(Skip behavior/Skip question) - 변수에 이미 값이 있는 경우 에이전트 작성자가 질문을 건너뛸 수 있습니다. 질문의 변수는 토픽의 다른 곳, 다른 토픽 또는 슬롯 채우기 및 엔터티 사용을 통해 설정된 값을 가질 수 있습니다. 이 동작을 통해 에이전트 작성자는 질문을 건너뛸 수 있고, 변수에 값이 있는 경우 질문을 그냥 물어볼 수 있습니다. 다른 사용 가능한 옵션으로는 Power Fx를 사용하여 조건을 만들고, 해당 조건이 참이면 질문을 건너뛸 수 있습니다.

• **재프롬프트/재프롬프트 횟수**(Reprompt/How many reprompts) - 질문을 특정 횟수만큼 반복하도록 동작을 설정할 수 있으며, 드롭다운 메뉴에서 반복하지 않음, 한 번 반복 또는 최대 두 번 반복을 선택할 수 있습니다. 질문 건너뛰기 옵션과 마찬가지로 Power Fx를 사용하여 이 동작이 발생하도록 조건을 설정할 수도 있습니다. 질문을 반복하도록 재시도를 선택한 경우에만 발생하는 재시도 프롬프트 옵션을 수정할 수 있습니다. 재시도 프롬프트 옵션을 선택하면 질문을 다시 표현할 다른 메시지를 추가할 수 있으며, 질문을 더 자연스럽게 들리게 하고 고객이나 사용자에게 더 도움이 되도록 메시지 검증을 추가할 수 있습니다.

• **추가 엔터티 검증/조건**(Additional entity validation/Condition) - 이 동작은 엔터티가 슬롯을 채울 수 있는 유효한지 검증하는 특정 조건이 있고 엔터티 유형에 따라 달라지는 경우 중요합니다. 조건이 충족되지 않으면 동일한 프롬프트 동작을 사용하여 프롬프트를 변경하여 사용자에게 다른 입력을 제공하도록 할 수도 있습니다.

• **유효한 엔터티가 발견되지 않음/엔터티가 발견되지 않은 경우 작업**(No valid entity found/Action if no entity found) – 엔터티가 발견되지 않으면 질문을 건너뛰는 대신 변수를 비워두거나, 변수를 특정 또는 동적으로 설정(Power Fx 사용)하거나, 에스컬레이션 시스템 토픽을 호출하는 것과 같이 동작을 지정할 수 있습니다.

• **중단**(Interruptions) – 고객이 Question 노드가 있는 현재 토픽과 다른 토픽으로 전환할 수 있는지 여부를 나타낼 수 있습니다. 이 옵션은 고객이 다른 질문으로 질문에 답할 가능성이 높고 단일 질문 노드 내에서 모든 예외를 처리할 필요 없이 대화를 계속하려는 경우에 유용합니다.

![image](https://github.com/user-attachments/assets/833051df-a1a4-4d10-a315-a2c0575286df)


이제 Question 노드의 핵심 기능과 관련 동작을 알게 되었으므로 Message 및 Question 노드에서 서식 있는 텍스트 응답을 살펴볼 수 있습니다.

























